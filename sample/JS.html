<script>
    var sample_list = document.querySelectorAll('.sample_wrap > ul > li');
    sample_list.forEach((t) => {
        var design = t.querySelector('.design_box'),
        code = t.querySelector('.code_box'),
        Source_code = String(design.innerHTML);

        const b = document.createElement('button');
        b.innerHTML = 'View source'
        t.querySelector('h3').append(b)

        t.getElementsByTagName('h3')[0].children[0].addEventListener('click', function(e){
            const code_box = t.getElementsByClassName('code_box');
            const style_box = t.getElementsByClassName('style_box');
            if(code_box[0].classList.contains('active')){
                code_box[0].classList.remove("active");
                style_box[0].classList.remove("active");
                e.currentTarget.textContent = "View source"
            } else {
                code_box[0].classList.add("active");
                style_box[0].classList.add("active");
                e.currentTarget.textContent = "Hide source"
            }
        });
        
        if(code.children[0].textContent == ''){
            code.children[0].innerHTML = escapeHtml(Source_code)
        }
    });
    
    document.getElementsByTagName('h2')[0].children[0].addEventListener('click', function(e){
        if(document.querySelector('.sample_wrap').classList.contains('division')){
            document.querySelector('.sample_wrap').classList.remove('division');
        } else {
            document.querySelector('.sample_wrap').classList.add('division');
        }
    });
    
    function escapeHtml(str) {
        var map = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#039;'
        };
        return str.replace(/[&<>"']/g, function(m) { return map[m]; });
    }

    const max = [333,666,999,101010]
    const _target = document.querySelectorAll(".count");
    for(let i=0; i<max.length; i++){
        if(_target.length > i){
            setTimeout(() => counter(_target[i], max[i]));
        }
    }
    </script>
    <div class="sample_wrap">
        <h2>JS
            <button><em>분할</em></button>
        </h2>
        <ul><!-- [design_box] pre 자동 생성으로 pre 기준으로 소스 들여쓰기 필요 -->
            <li>
                <div class="item">
                    <h3>count animation</h3>
                    <div class="design_box">
<p class="count">0</p>
                    </div>
                    <pre class="code_box"><code></code></pre>
                    <pre class="style_box"><code>
const max = [333,666,999,101010]
const _target = document.querySelectorAll(".count");
for(let i=0; i<max.length; i++){
    if(_target.length > i){
        setTimeout(() => counter(_target[i], max[i]));
    }
}
                    </code></pre>
                </div>
            </li>
            <!-- count_animation -->
            <!-- toast -->
            <li>
                <div class="item">
                    <h3>Toast popup</h3>
                    <ul class="explain">
                        <li>Toast : onclick="toast(타입(자동:auto, 수동:confirm), 노출할 메세지, 토스트팝업이 닫히는 시간);"</li>
                    </ul>
                    <div class="design_box">
    <!-- toast open button -->
    <a href="#none" onclick="toast('confirm', '1 확인되었습니다.');" class="btn_min btn_ok">Toast-confirm</a>
    <a href="#none" onclick="toast('auto', '2 확인되었습니다.', 3000);" class="btn_min btn_ok">Toast-auto</a>
    <!-- //toast open button -->

    <!-- toast -->
    <div class="toast">
    </div>
    <!-- //toast -->
                    </div>
                    <pre class="code_box"><code></code></pre>
                    <pre class="style_box"><code>
    toast('confirm', '노출할 내용');
    toast('auto', '노출할 내용', 닫히는 시간);
                    </code></pre>
                </div>
            </li>

            <!-- modal -->
            <li>
                <div class="item">
                    <h3>Modal</h3>
                    <ul class="explain">
                        <li>Modal 호출 : modal.open('호출할 ID', '타입'); //사이즈 = full, small</li>
                        <li>data-cont : ajax를 이용하여 모달 콘텐츠 호출할 경우 사용 [data-cont="호출할 콘텐츠 경로"]</li>
                    </ul>
                    <div class="design_box">
    <!-- modal open button -->
    <a href="#none" onclick="modal.open('modal', 'full');" data-cont="modal_sample/sample_small" class="btn_min btn_ok">Full Modal</a>
    <a href="#none" onclick="modal.open('sam_modal_02', 'small');" class="btn_min btn_ok">Small Modal (sample 02)</a>
    <a href="#none" onclick="modal.open('sam_modal_03', 'full');" class="btn_min btn_ok">Full Modal (sample 03)</a>
    <a href="#none" onclick="modal.open('sam_modal_alert', 'small no_dim');" data-cont="modal_sample/sample_small" class="btn_min btn_ok">Alert Modal</a>
    <!-- //modal open button -->
    
    <!-- sample modal -->
    <div id="modal" class="modal_wrap" style="">
        <div class="modal_container">
            <!-- modal header -->
            <div class="modal_header">Modal Title
                <a href="#none" onclick="modal.close();" class="btn_close">닫기</a>
            </div>
            <!-- //modal header -->
            <!-- modal content -->
            <div class="modal_content">Modal Content</div>
            <!-- //modal content -->
            <!-- modal bottom -->
            <div class="modal_bottom">
                <a href="#none" class="btn_min btn_confirm">확인</a>
                <a href="#none" onclick="modal.close();" class="btn_min btn_cancel">취소</a>
            </div>
            <!-- //modal bottom -->
        </div>
	</div>
    <!-- //sample modal -->
                    </div>
                    <pre class="code_box"><code></code></pre>
                    <pre class="style_box"><code>
onclick="modal.open(오픈할 모달 ID, 모달 타입);" data-cont="호출할 콘텐츠 경로"
                    </code></pre>
                </div>
            </li>
            <!-- prototype -->
            <!-- <li>
                <div class="item">
                    <h3>Prototype</h3> -->
        </ul>
    </div>

    <!-- sample modal -->
    <div id="sam_modal_alert" class="modal_wrap" style="">
        <div class="modal_container">
            <!-- modal header -->
            <div class="modal_header">Modal Title Sample Alert
                <a href="#none" onclick="modal.close();" class="btn_close">닫기</a>
            </div>
            <!-- //modal header -->
            <!-- modal content -->
            <div class="modal_content">Modal Content</div>
            <!-- //modal content -->
            <!-- modal bottom -->
            <div class="modal_bottom">
                <a href="#none" class="btn_min btn_confirm">확인</a>
                <a href="#none" onclick="modal.close();" class="btn_min btn_cancel">취소</a>
            </div>
            <!-- //modal bottom -->
        </div>
	</div>

    <div id="sam_modal_02" class="modal_wrap" style="">
        <div class="modal_container">
            <!-- modal header -->
            <div class="modal_header">Modal Title Sample 02
                <a href="#none" onclick="modal.close();" class="btn_close">닫기</a>
            </div>
            <!-- //modal header -->
            <!-- modal content -->
            <div class="modal_content">Modal Content</div>
            <!-- //modal content -->
            <!-- modal bottom -->
            <div class="modal_bottom">
                <a href="#none" class="btn_min btn_confirm">확인</a>
                <a href="#none" onclick="modal.close();" class="btn_min btn_cancel">취소</a>
            </div>
            <!-- //modal bottom -->
        </div>
	</div>


    <div id="sam_modal_03" class="modal_wrap" style="">
        <div class="modal_container">
            <!-- modal header -->
            <div class="modal_header">Modal Title Sample 03
                <a href="#none" onclick="modal.close();" class="btn_close">닫기</a>
            </div>
            <!-- //modal header -->
            <!-- modal content -->
            <div class="modal_content">Modal Content</div>
            <!-- //modal content -->
            <!-- modal bottom -->
            <div class="modal_bottom">
                <a href="#none" class="btn_min btn_confirm">확인</a>
                <a href="#none" onclick="modal.close();" class="btn_min btn_cancel">취소</a>
            </div>
            <!-- //modal bottom -->
        </div>
	</div>
    <!-- //sample modal -->

    <!-- 멀티 모달 테스트용 스타일 -->
    <style>
        .modal_wrap.active {width:500px !important; height:500px !important;}
        .modal_dim {width:540px !important; height:540px !important}
    </style>
    <!-- //멀티 모달 테스트용 스타일 -->